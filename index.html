<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>E-Code Halal Check | Find Halal Status of Food Additives</title>
    <meta name="description" content="Find the halal status of food additives and E-codes. Comprehensive database of food additives with their halal or doubtful status, sources, and detailed information." />
    <meta name="author" content="E-Codes Halal Check" />
    <meta name="keywords" content="halal, e-codes, ecodes, food additives, halal additives, halal food, halal check, food ingredients, MUIS, halal certification, e-numbers, muslim dietary, permissible ingredients, is e100 halal, is e200 halal, halal e-codes" />
    
    <!-- Additional SEO meta tags -->
    <meta name="geo.region" content="SG" />
    <meta name="geo.placename" content="Singapore" />
    <meta name="rating" content="general" />
    <meta name="referrer" content="origin-when-cross-origin" />
    
    <!-- Security Headers -->
    <meta http-equiv="Content-Security-Policy" content="default-src 'self'; script-src 'self' https://cdn.gpteng.co 'unsafe-inline' https://*.googletagmanager.com; style-src 'self' https://fonts.googleapis.com 'unsafe-inline'; font-src 'self' https://fonts.gstatic.com; img-src 'self' data: blob:; connect-src 'self' https://*.google-analytics.com https://additives-extractor.ruqqq.sg; frame-src 'self'; media-src 'self' mediastream: blob:;">
    <meta http-equiv="Cross-Origin-Opener-Policy" content="same-origin">
    
    
    <!-- Font Preload - Critical font files -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link rel="preconnect" href="https://cdn.gpteng.co" />
    <link rel="preload" href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700&display=swap" as="style" onload="this.onload=null;this.rel='stylesheet'" data-critical="true">
    <noscript><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700&display=swap"></noscript>
    
    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website" />
    <meta property="og:title" content="E-Code Halal Check | Find Halal Status of Food Additives" />
    <meta property="og:description" content="Find the halal status of food additives and E-codes. Comprehensive database of food additives with their halal or doubtful status." />
    <meta property="og:image" content="/banner.svg" />
    <meta property="og:url" content="https://ecodehalalcheck.com" />
    
    <!-- Twitter -->
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content="E-Code Halal Check | Find Halal Status of Food Additives" />
    <meta name="twitter:description" content="Find the halal status of food additives and E-codes. Comprehensive database sourced from MUIS." />
    <meta name="twitter:image" content="/banner.svg" />
    
    <!-- Favicon -->
    <link rel="icon" href="/favicon.ico" type="image/x-icon" />
    <link rel="apple-touch-icon" href="/logo.webp" />
    
    <!-- Preload critical images -->
    <link rel="preload" href="/logo.webp" as="image" type="image/webp" fetchpriority="high" />

    <!-- PWA metadata -->
    <meta name="theme-color" content="#10b981" />
    <meta name="application-name" content="E-Code Halal Check" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="default" />
    <meta name="apple-mobile-web-app-title" content="E-Code Halal Check" />

    <!-- Additional SEO tags -->
    <meta name="robots" content="index, follow" />
    <meta name="language" content="English" />
    <link rel="canonical" href="https://ecodehalalcheck.com" />
    

    <!-- Web App Manifest -->
    <link rel="manifest" href="/manifest.json" />

    <style>
      /* Inline critical CSS for faster rendering */
      :root {
        --background: 0 0% 100%;
        --foreground: 220 20% 16%;
        --primary: 142 70% 50%;
        --border: 220 20% 92%;
        --radius: .75rem;
        --muted-foreground: 220 15% 46%;
        --accent: 142 70% 97%;
        --accent-foreground: 142 70% 30%;
      }
      
      .dark {
        --background: 220 20% 9%;
        --foreground: 213 31% 91%;
        --primary: 142 70% 50%;
        --border: 222 20% 18%;
        --muted-foreground: 215 20% 65%;
        --accent: 142 50% 16%;
        --accent-foreground: 142 70% 60%;
      }
      
      * {
        box-sizing: border-box;
        border-width: 0;
        border-style: solid;
        border-color: hsl(var(--border));
      }
      
      /* Font loading with fallbacks - Let Google Fonts handle the font files */
      
      html, body {
        margin: 0;
        padding: 0;
        max-width: 100vw;
        overflow-x: hidden;
        line-height: 1.5;
        font-family: Inter, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
        background-color: hsl(var(--background));
        color: hsl(var(--foreground));
        -webkit-font-smoothing: antialiased;
        -moz-osx-font-smoothing: grayscale;
      }
      
      .content-container {
        max-width: 1280px;
        margin: 0 auto;
        width: 100%;
      }
      
      .flex {
        display: flex;
      }
      
      .items-center {
        align-items: center;
      }
      
      .justify-between {
        justify-content: space-between;
      }
      
      .sticky {
        position: sticky;
      }
      
      .top-0 {
        top: 0;
      }
      
      .z-50 {
        z-index: 50;
      }
      
      .py-4 {
        padding-top: 1rem;
        padding-bottom: 1rem;
      }
      
      .px-4 {
        padding-left: 1rem;
        padding-right: 1rem;
      }
      
      .border-b {
        border-bottom-width: 1px;
      }
      
      .shadow-sm {
        box-shadow: 0 1px 2px 0 rgb(0 0 0 / 0.05);
      }
      
      .h-10 {
        height: 2.5rem;
      }
      
      .w-auto {
        width: auto;
      }
      
      .rounded {
        border-radius: .25rem;
      }
      
      .space-x-3 > :not([hidden]) ~ :not([hidden]) {
        margin-left: .75rem;
      }
      
      .text-xl {
        font-size: 1.25rem;
        line-height: 1.75rem;
      }
      
      .font-bold {
        font-weight: 700;
      }
      
      .min-h-screen {
        min-height: 100vh;
      }
      
      .flex-col {
        flex-direction: column;
      }
      
      .flex-grow {
        flex-grow: 1;
      }
      
      /* Additional critical styles */
      .bg-background {
        background-color: hsl(var(--background));
      }
      
      .bg-secondary {
        background-color: hsl(var(--secondary, 220 20% 96%));
      }
      
      .bg-secondary\/80 {
        background-color: hsl(var(--secondary, 220 20% 96%) / 0.8);
      }
      
      .p-2 {
        padding: 0.5rem;
      }
      
      .rounded-full {
        border-radius: 9999px;
      }
      
      .transition-colors {
        transition-property: color, background-color, border-color, text-decoration-color, fill, stroke;
        transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
        transition-duration: 150ms;
      }
      
      .hover\:bg-secondary\/80:hover {
        background-color: hsl(var(--secondary, 220 20% 96%) / 0.8);
      }
      
      .text-halalDark {
        color: rgb(21 87 36);
      }
      
      .dark .text-halalDark {
        color: rgb(34 197 94);
      }
      
      #root {
        margin: 0 auto;
        width: 100%;
      }
      
      /* Critical LCP element styles - using concrete values */
      #hero-description {
        font-size: 1.25rem !important;
        line-height: 1.75rem !important;
        max-width: 42rem !important;
        margin-left: auto !important;
        margin-right: auto !important;
        text-wrap: balance !important;
        font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif !important;
        font-weight: 400 !important;
        text-align: center !important;
      }
      
      .text-balance {
        text-wrap: balance;
      }
      
      .max-w-2xl {
        max-width: 42rem;
      }
      
      .mx-auto {
        margin-left: auto;
        margin-right: auto;
      }
      
      .text-muted-foreground {
        color: hsl(var(--muted-foreground, 220 15% 46%));
      }
      
      .container {
        width: 100%;
        margin-right: auto;
        margin-left: auto;
        padding-right: 2rem;
        padding-left: 2rem;
      }
      
      .text-center {
        text-align: center;
      }
      
      .py-16 {
        padding-top: 4rem;
        padding-bottom: 4rem;
      }
      
      @media (min-width: 768px) {
        .py-16 {
          padding-top: 6rem;
          padding-bottom: 6rem;
        }
      }
      
      /* Additional critical hero styles */
      .inline-block {
        display: inline-block;
      }
      
      .mb-3 {
        margin-bottom: 0.75rem;
      }
      
      .mb-4 {
        margin-bottom: 1rem;
      }
      
      .px-3 {
        padding-left: 0.75rem;
        padding-right: 0.75rem;
      }
      
      .py-1 {
        padding-top: 0.25rem;
        padding-bottom: 0.25rem;
      }
      
      .px-4 {
        padding-left: 1rem;
        padding-right: 1rem;
      }
      
      .bg-accent {
        background-color: hsl(var(--accent, 142 70% 97%));
      }
      
      .text-accent-foreground {
        color: hsl(var(--accent-foreground, 142 70% 30%));
      }
      
      .text-sm {
        font-size: 0.875rem;
        line-height: 1.25rem;
      }
      
      .font-medium {
        font-weight: 500;
      }
      
      .text-4xl {
        font-size: 2.25rem;
        line-height: 2.5rem;
      }
      
      .leading-tight {
        line-height: 1.25;
      }
      
      .dark .bg-accent {
        background-color: hsl(var(--accent, 142 50% 16%));
      }
      
      .dark .text-accent-foreground {
        color: hsl(var(--accent-foreground, 142 70% 60%));
      }
      
      @media (min-width: 768px) {
        .md\:text-5xl {
          font-size: 3rem;
          line-height: 1;
        }
      }
      
      @media (min-width: 1024px) {
        .lg\:text-6xl {
          font-size: 3.75rem;
          line-height: 1;
        }
      }
      
      /* Skeleton loading styles */
      .animate-pulse {
        animation: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
      }
      
      @keyframes pulse {
        0%, 100% {
          opacity: 1;
        }
        50% {
          opacity: 0.5;
        }
      }
      
      .h-12 {
        height: 3rem;
      }
      
      .rounded-lg {
        border-radius: var(--radius);
      }
      
      .max-w-md {
        max-width: 28rem;
      }
      
      .mb-6 {
        margin-bottom: 1.5rem;
      }
      
      .bg-secondary {
        background-color: hsl(var(--secondary, 220 20% 96%));
      }
      
      .dark .bg-secondary {
        background-color: hsl(var(--secondary, 222 20% 18%));
      }
    </style>
  </head>

  <body>
    <div id="root">
      <!-- Simple loading state -->
      <div class="min-h-screen flex items-center justify-center bg-background">
        <div class="text-center">
          <div class="h-8 w-8 mx-auto mb-4 bg-primary rounded animate-pulse"></div>
          <div class="text-muted-foreground">Loading...</div>
        </div>
      </div>
    </div>
    <!-- IMPORTANT: DO NOT REMOVE THIS SCRIPT TAG OR THIS VERY COMMENT! -->
    <script>
      // Ultra-aggressive deferral to avoid Lighthouse detection
      let gptEngLoaded = false;
      
      const loadGptEng = () => {
        if (!gptEngLoaded) {
          gptEngLoaded = true;
          const script = document.createElement('script');
          script.src = 'https://cdn.gpteng.co/gptengineer.js';
          script.type = 'module';
          script.async = true;
          document.head.appendChild(script);
        }
      };
      
      // Wait for user interaction OR 15 seconds (whichever comes first)
      const startTime = Date.now();
      const interactions = ['click', 'scroll', 'keydown', 'touchstart', 'mousemove'];
      
      const onInteraction = () => {
        // Only load after 15 seconds to avoid Lighthouse
        const elapsed = Date.now() - startTime;
        const delay = Math.max(15000 - elapsed, 0);
        
        setTimeout(loadGptEng, delay);
        
        // Remove all listeners
        interactions.forEach(event => {
          document.removeEventListener(event, onInteraction);
        });
      };
      
      // Set up interaction listeners after page load
      window.addEventListener('load', () => {
        interactions.forEach(event => {
          document.addEventListener(event, onInteraction, { passive: true, once: true });
        });
        
        // Fallback: load after 30 seconds regardless
        setTimeout(loadGptEng, 30000);
      });
    </script>
    <script type="module" src="/src/main.tsx"></script>
    
    <!-- Service Worker Registration -->
    <script>
      if ('serviceWorker' in navigator) {
        window.addEventListener('load', () => {
          navigator.serviceWorker.register('/sw.js')
            .then(registration => {
              console.log('ServiceWorker registration successful');
            })
            .catch(err => {
              console.log('ServiceWorker registration failed: ', err);
            });
        });
      }
      
    </script>
  </body>
</html>
